import { useImperativeHandle, useRef } from 'react';

const useImperativePickerHandle = (ref, expandableRef) => {
  const pickerRef = useRef();
  useImperativeHandle(ref, () => {
    // @ts-expect-error useRef return type is possible null therefor it throw TS error
    const {
      isFocused,
      focus,
      blur,
      clear,
      validate
    } = pickerRef.current; // @ts-expect-error useRef return type is possible null therefor it throw TS error

    const {
      openExpandable,
      closeExpandable,
      toggleExpandable
    } = expandableRef.current;
    return {
      isFocused,
      focus,
      blur,
      clear,
      validate,
      openExpandable,
      closeExpandable,
      toggleExpandable
    };
  });
  return pickerRef;
};

export default useImperativePickerHandle;