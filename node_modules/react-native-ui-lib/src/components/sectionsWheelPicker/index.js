import _map from "lodash/map";
import React from 'react';
import { asBaseComponent } from "../../commons/new";
import View from "../view";
import { WheelPicker } from "../../incubator";

/**
 * @description: SectionsWheelPicker component for presenting set of wheelPickers
 * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/SectionsWheelPickerScreen.tsx
 * @gif: https://github.com/wix/react-native-ui-lib/blob/master/demo/showcase/SectionsWheelPicker/SectionsWheelPicker.gif?raw=true
 */
const SectionsWheelPicker = props => {
  const {
    sections,
    itemHeight,
    numberOfVisibleRows,
    activeTextColor,
    inactiveTextColor,
    textStyle,
    testID
  } = props;
  const wheelPickerProps = {
    itemHeight,
    numberOfVisibleRows,
    activeTextColor,
    inactiveTextColor,
    textStyle
  };

  const renderSections = () => _map(sections, (section, index) => {
    return <WheelPicker key={index} testID={`${testID}.${index}`} {...wheelPickerProps} {...section} />;
  });

  return <View row centerH testID={testID}>
      {renderSections()}
    </View>;
};

SectionsWheelPicker.displayName = 'SectionsWheelPicker';
export default asBaseComponent(SectionsWheelPicker);